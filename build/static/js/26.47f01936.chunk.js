(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[26],{617:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="http://3.12.65.48:3001",r="http://3.12.65.48:3001/"},900:function(e,t,n){"use strict";n.r(t);var a=n(622),r=n.n(a),c=n(623),o=n(159),s=n(40),i=n(619),u=n(1),l=n(625),b=n.n(l),d=n(20),j=n(617),p=n(626),f=n(716),m=n.n(f),O=(n(736),n(17));t.default=function(){var e=Object(d.g)(),t=Object(u.useState)({title:"",content:"",image:""}),n=Object(i.a)(t,2),a=n[0],l=n[1],f={headers:{token:localStorage.getItem("token")}},h=Object(u.useState)({}),x=Object(i.a)(h,2),g=x[0],v=x[1],w=a.title,k=a.content,y=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new FileReader;case 2:(n=e.sent).readAsDataURL(t.target.files[0]),n.onload=function(){console.warn("................",n.result),v({image:n.result})};case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(j.a,"/api/admin/upload-image"),g,f);case 2:if(200!=(n=e.sent).data.code){e.next=8;break}return Object(p.b)(n.data.message),console.warn(n.data.data),e.next=8,l(Object(s.a)(Object(s.a)({},a),{},{image:n.data.data}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var t=Object(c.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.warn("onsumbit",a),t.next=4,b.a.post("".concat(j.a,"/api/admin/blogs"),a,f);case 4:c=t.sent,Object(p.b)(c.data.message),setTimeout((function(){e.push("/blogs")}),1e3);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Add A Blog"}),Object(O.jsxs)("form",{onSubmit:function(e){return A(e)},children:[Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Title",name:"title",value:w,onChange:function(e){return function(e){l(Object(s.a)(Object(s.a)({},a),{},Object(o.a)({},e.target.name,e.target.value)))}(e)}})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)(m.a,{theme:"snow",value:k,onChange:function(e){return function(e){l(Object(s.a)(Object(s.a)({},a),{},{content:e}))}(e)}})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"file",name:"file",onChange:function(e){return y(e)}}),Object(O.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){return N(e)},children:"Upload"})]}),Object(O.jsx)("button",{className:"btn btn-primary btn-block",children:"Add User"})]})]}),Object(O.jsx)(p.a,{})]})}}}]);
//# sourceMappingURL=26.47f01936.chunk.js.map