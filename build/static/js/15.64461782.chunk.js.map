{"version":3,"sources":["constant.js","views/users/editUser.js"],"names":["baseUrl","EditUser","history","useHistory","id","useParams","useState","name","username","email","number","website","user","setUser","onInputChange","e","target","value","useEffect","loadUser","onSubmit","a","preventDefault","console","log","data","_id","login_type","axios","post","CONSTANT","code","toast","setTimeout","push","get","then","res","catch","err","warn","className","type","placeholder","onChange"],"mappings":"6KAAA,kCAAO,IAAMA,EAAW,0B,qKC+HTC,UAzHE,WACb,IAAIC,EAAUC,cACNC,EAAOC,cAAPD,GAFW,EAGKE,mBAAS,CAC7BC,KAAM,GACNC,SAAU,GACVC,MAAO,GACPC,OAAQ,GACRC,QAAS,KARM,mBAGZC,EAHY,KAGNC,EAHM,KAWXN,EAA2CK,EAA3CL,KAAMC,EAAqCI,EAArCJ,SAAUC,EAA2BG,EAA3BH,MAAOC,EAAoBE,EAApBF,OACzBI,GAD6CF,EAAZD,QACjB,SAAAI,GAClBF,EAAQ,2BAAKD,GAAN,kBAAaG,EAAEC,OAAOT,KAAOQ,EAAEC,OAAOC,WAGjDC,qBAAU,WACNC,MACD,IAEH,IAAMC,EAAQ,uCAAG,WAAML,GAAN,eAAAM,EAAA,6DACbN,EAAEO,iBACFC,QAAQC,IAAI,UAAWZ,GACnBa,EAAO,GACPb,EAAKL,OACLkB,EAAKlB,KAAOK,EAAKL,MAEjBK,EAAKJ,WACLiB,EAAKjB,SAAWI,EAAKJ,UAErBI,EAAKH,QACLgB,EAAKhB,MAAQG,EAAKH,OAElBG,EAAKF,SACLe,EAAKf,OAASE,EAAKF,QAEvBe,EAAKC,IAAMd,EAAKc,IAChBD,EAAKE,WAAa,SAClBJ,QAAQC,IAAI,WAAYC,GAlBX,UAmBQG,IAAMC,KAAN,UAAcC,IAAd,4BAA0DL,GAnBlE,QAoBa,KApBb,OAoBAA,KAAKM,OACdC,YAAM,uBACNC,YAAW,WAAW/B,EAAQgC,KAAK,YAAc,MAtBxC,4CAAH,sDA2BRf,EAAQ,uCAAG,sBAAAE,EAAA,sEAGPO,IAAMO,IAAN,UAAaL,IAAb,sCAA2D1B,IAAMgC,MAAK,SAACC,GACzEd,QAAQC,IAAI,WAAYa,EAAIZ,MAC5BZ,EAAQwB,EAAIZ,KAAKA,SAClBa,OAAM,SAAAC,GACLhB,QAAQiB,KAAKD,MAPJ,2CAAH,qDAWd,OACI,sBAAKE,UAAU,YAAf,UACI,sBAAKA,UAAU,0BAAf,UACI,oBAAIA,UAAU,mBAAd,yBACA,uBAAMrB,SAAU,SAAAL,GAAC,OAAIK,EAASL,IAA9B,UACI,qBAAK0B,UAAU,aAAf,SACI,uBACIC,KAAK,OACLD,UAAU,+BACVE,YAAY,kBACZpC,KAAK,OACLU,MAAOV,EACPqC,SAAU,SAAA7B,GAAC,OAAID,EAAcC,QAGrC,qBAAK0B,UAAU,aAAf,SACI,uBACIC,KAAK,OACLD,UAAU,+BACVE,YAAY,sBACZpC,KAAK,WACLU,MAAOT,EACPoC,SAAU,SAAA7B,GAAC,OAAID,EAAcC,QAGrC,qBAAK0B,UAAU,aAAf,SACI,uBACIC,KAAK,QACLD,UAAU,+BACVE,YAAY,4BACZpC,KAAK,QACLU,MAAOR,EACPmC,SAAU,SAAA7B,GAAC,OAAID,EAAcC,QAGrC,qBAAK0B,UAAU,aAAf,SACI,uBACIC,KAAK,OACLD,UAAU,+BACVE,YAAY,2BACZpC,KAAK,SACLU,MAAOP,EACPkC,SAAU,SAAA7B,GAAC,OAAID,EAAcC,QAarC,wBAAQ0B,UAAU,4BAAlB,+BAGR,cAAC,IAAD","file":"static/js/15.64461782.chunk.js","sourcesContent":["export const baseUrl  = \"http://3.12.65.48:3001\"\r\n// export const baseUrl  = \"http://localhost:3001\"\r\nexport const CONSTANT_NUMBER_2 = 'hello I am also a constant';","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport *as  CONSTANT  from '../../constant'\r\nconst EditUser = () => {\r\n    let history = useHistory();\r\n    const { id } = useParams();\r\n    const [user, setUser] = useState({\r\n        name: \"\",\r\n        username: \"\",\r\n        email: \"\",\r\n        number: \"\",\r\n        website: \"\"\r\n    });\r\n\r\n    const { name, username, email, number, website } = user;\r\n    const onInputChange = e => {\r\n        setUser({ ...user, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadUser();\r\n    }, []);\r\n\r\n    const onSubmit = async e => {\r\n        e.preventDefault();\r\n        console.log(\"request\", user)\r\n        let data = {}\r\n        if (user.name) {\r\n            data.name = user.name\r\n        }\r\n        if (user.username) {\r\n            data.username = user.username\r\n        }\r\n        if (user.email) {\r\n            data.email = user.email\r\n        }\r\n        if (user.number) {\r\n            data.number = user.number\r\n        }\r\n        data._id = user._id\r\n        data.login_type = 'manual'\r\n        console.log(\"daaaaaaa\", data)\r\n        let response = await axios.post(`${CONSTANT.baseUrl}/api/user/update-profile`, data);\r\n        if (response.data.code == 200) {\r\n            toast(\"Update successfully\");\r\n            setTimeout(function(){history.push(\"/users\"); }, 3000);\r\n            // history.push(\"/users\");\r\n        }\r\n    };\r\n\r\n    const loadUser = async () => {\r\n\r\n        // const result = \r\n        await axios.get(`${CONSTANT.baseUrl}/api/user/user-details?_id=${id}`).then((res) => {\r\n            console.log(\"response\", res.data)\r\n            setUser(res.data.data);\r\n        }).catch(err => {\r\n            console.warn(err)\r\n        })\r\n\r\n    };\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"w-75 mx-auto shadow p-5\">\r\n                <h2 className=\"text-center mb-4\">Edit A User</h2>\r\n                <form onSubmit={e => onSubmit(e)}>\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control form-control-lg\"\r\n                            placeholder=\"Enter Your Name\"\r\n                            name=\"name\"\r\n                            value={name}\r\n                            onChange={e => onInputChange(e)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control form-control-lg\"\r\n                            placeholder=\"Enter Your Username\"\r\n                            name=\"username\"\r\n                            value={username}\r\n                            onChange={e => onInputChange(e)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"form-control form-control-lg\"\r\n                            placeholder=\"Enter Your E-mail Address\"\r\n                            name=\"email\"\r\n                            value={email}\r\n                            onChange={e => onInputChange(e)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control form-control-lg\"\r\n                            placeholder=\"Enter Your number Number\"\r\n                            name=\"number\"\r\n                            value={number}\r\n                            onChange={e => onInputChange(e)}\r\n                        />\r\n                    </div>\r\n                    {/* <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter Your Website Name\"\r\n              name=\"website\"\r\n              value={website}\r\n              onChange={e => onInputChange(e)}\r\n            />\r\n          </div> */}\r\n                    <button className=\"btn btn-warning btn-block\">Update User</button>\r\n                </form>\r\n            </div>\r\n            <ToastContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditUser;"],"sourceRoot":""}