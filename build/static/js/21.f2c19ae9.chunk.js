(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[21],{617:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return c}));var n="http://3.12.65.48:3001",c="http://3.12.65.48:3001/"},630:function(t,e,a){},633:function(t,e,a){"use strict";var n=a(619),c=a(1),r=a(17);e.a=function(t){var e=t.showPerPage,a=t.onPaginationChange,s=t.total,o=t.page,i=Object(c.useState)(o),l=Object(n.a)(i,2),j=l[0],u=l[1],b=Object(c.useState)(),d=Object(n.a)(b,2),O=d[0],h=d[1];console.log("numberOfButtons",O),console.log("total",s),console.log("counter",j),console.log("showPerPage",e),Object(c.useEffect)((function(){a(j,e*j-e),h(Math.ceil(s/e))}),[j]);var p=function(t){"prev"===t?u(1===j?1:j-1):"next"===t&&u(O===j?j:j+1)};return Object(r.jsx)("div",{className:"d-flex justify-content-center",children:Object(r.jsx)("nav",{"aria-label":"Page navigation example",children:Object(r.jsxs)("ul",{class:"pagination",children:[Object(r.jsx)("li",{class:"page-item",children:Object(r.jsx)("a",{class:"page-link",onClick:function(){return p("prev")},children:"Previous"})}),new Array(O).fill("").map((function(t,e){return Object(r.jsx)("li",{class:"page-item ".concat(e+1===j?"active":null),children:Object(r.jsx)("a",{class:"page-link",onClick:function(){return u(e+1)},children:e+1})})})),Object(r.jsx)("li",{class:"page-item",children:Object(r.jsx)("a",{class:"page-link",onClick:function(){return p("next")},children:"Next"})})]})})})}},761:function(t,e,a){"use strict";a.r(e);var n=a(159),c=a(40),r=a(622),s=a.n(r),o=a(623),i=a(619),l=a(1),j=a(20),u=a(158),b=a(624),d=a.n(b),O=a(758),h=a(740),p=a(644),f=a(625),x=(a(618),a(617)),g=a(633),m=(a(630),a(17));e.default=function(){Object(j.g)();var t=Object(l.useState)(10),e=Object(i.a)(t,2),a=e[0],r=(e[1],Object(l.useState)(0)),b=Object(i.a)(r,2),v=b[0],y=b[1],k=Object(l.useState)(1),w=Object(i.a)(k,2),S=w[0],P=w[1],C=Object(l.useState)(1),N=Object(i.a)(C,2),_=N[0],A=N[1],I=Object(l.useState)({}),R=Object(i.a)(I,2),B=R[0],E=R[1],J=Object(l.useState)({}),K=Object(i.a)(J,2),H=K[0],L=K[1],M={headers:{token:localStorage.getItem("token")}},T=Object(l.useState)([]),q=Object(i.a)(T,2),z=q[0],D=q[1],F=Object(l.useState)({}),G=Object(i.a)(F,2),Q=G[0],U=G[1];Object(j.i)().id;Object(l.useEffect)((function(){V(S,B)}),[S,v,B,Q]);var V=function(){var t=Object(o.a)(s.a.mark((function t(e){var a,n,c,r=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:null,n={page:e,limit:10,transaction_type:"referral"},0===Object.keys(a).length&&a.constructor===Object||(n.sort=a),0===Object.keys(Q).length&&Q.constructor===Object||(n.toId=Q.text),console.log("datadata",n),t.next=7,d.a.post("".concat(x.a,"/api/admin/get-transaction"),n,M);case 7:if(c=t.sent,console.warn(c.data.data),200!=c.data.code){t.next=17;break}return Object(f.b)("List get successfully"),D(c.data.data.docs),t.next=14,y(c.data.data.total);case 14:if(!c.data.data.total_amount){t.next=17;break}return t.next=17,c.data.data.total_amount.map((function(t){"referral"==t._id&&L(t)}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=Object(o.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("targat",e),{},"option-1"==e&&E(Object(c.a)(Object(c.a)({},B),{},{createdAt:-1})),"option-2"==e&&E(Object(c.a)(Object(c.a)({},B),{},{createdAt:1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),X=function(){var t=Object(o.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("search text",e.target.name,e.target.value),U(Object(c.a)(Object(c.a)({},Q),{},Object(n.a)({},e.target.name,e.target.value)));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)(u.b,{className:"btn btn-primary",to:"/",children:"back to Home"}),Object(m.jsxs)("h3",{children:["Total Referral Amount : ",H?H.totalAmount:"00"," Rs"]}),Object(m.jsxs)(O.a,{className:"fltR",alignRight:!0,title:"filter",id:"dropdown-menu-align-right",onSelect:function(t){return W(t)},children:[Object(m.jsx)(h.a.Item,{eventKey:"option-1",children:"New transactions"}),Object(m.jsx)(h.a.Item,{eventKey:"option-2",children:"Old transaction"})]}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:"text",className:"searchBox",placeholder:"search by transaction id....",name:"text",value:Q.text,onChange:function(t){return X(t)}})}),Object(m.jsxs)(p.a,{striped:!0,bordered:!0,hover:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"S.no"}),Object(m.jsx)("th",{children:"transaction_type"}),Object(m.jsx)("th",{children:"type"}),Object(m.jsx)("th",{children:"amount"}),Object(m.jsx)("th",{children:"Status"})]})}),Object(m.jsx)("tbody",{children:z.map((function(t,e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e+_+1}),Object(m.jsx)("td",{children:t.transaction_type}),Object(m.jsx)("td",{children:t.type}),Object(m.jsx)("td",{children:t.amount}),Object(m.jsx)("td",{children:t.status})]})}))})]}),Object(m.jsx)(f.a,{}),v>0?Object(m.jsx)(g.a,{showPerPage:a,onPaginationChange:function(t,e){console.warn("getee, ",t,e),P(t),A(e)},total:v,page:S}):""]})}}}]);
//# sourceMappingURL=21.f2c19ae9.chunk.js.map